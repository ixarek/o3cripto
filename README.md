# o3cripto

Простой пример торгового бота для фьючерсов Bybit.

Реализованные вспомогательные функции находятся в `functions.py`.

## Установка

1. Создайте файл `.env` на основе `.env.example` и заполните его своими API‑ключами Bybit.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите бота:
   ```bash
   python bot.py
   ```

   Скрипт будет работать постоянно, раз в минуту проверяя торговые сигналы
   и записывая действия в `trade_log.txt`.

Во время работы бот пишет сообщения в текстовый файл `trade_log.txt`,
чтобы можно было проследить историю предыдущих запусков.

Пример получает и выводит баланс счёта в тестовой среде Bybit.
Также он содержит вспомогательные функции для открытия и закрытия рыночных ордеров с плечом на парах
`BTCUSDT`, `ETHUSDT`, `SOLUSDT`, `XRPUSDT`, `DOGEUSDT` и `BNBUSDT`.

## Вспомогательные функции

- `calculate_dynamic_order_size` — размер позиции по балансу и волатильности
- `apply_trailing_stop` — подтягивает стоп-лосс за ценой
- `partial_take_profit` — частичное закрытие позиции по целям
- `limit_open_positions` — ограничение числа одновременных сделок
- `select_strategy` — выбор стратегии из конфигурации
- `dynamic_leverage` — динамическое изменение плеча по волатильности
- `reload_config` — перезагрузка настроек без перезапуска
- `cache_candles` — кэширование последних свечей на диск
- `log_performance_metrics` — логирование задержек API и времени стратегии

## Торговые стратегии

В бота встроен пример стратегии пересечения скользящих средних через функцию
`trade_with_signals`, которая открывает позицию только при совпадении сигналов
пересечения скользящих средних (5‑ и 20‑периодных SMA) и RSI.
Для автономной работы в 2025 году можно расширить бота следующими методами:

- **Прогнозирование с подкреплением**, обученное на данных ордербука.
- **Статистический арбитраж** на коррелированных парах для поиска неправильного ценообразования.
- **Системы пробоя волатильности** с динамическим управлением рисками.
- **Анализ настроений** из новостей и социальных сетей для фильтрации сделок.

## Тестирование

```bash
pytest --cov=bot
```

Тесты покрывают весь функционал бота, обеспечивая 100% покрытие модулей.


